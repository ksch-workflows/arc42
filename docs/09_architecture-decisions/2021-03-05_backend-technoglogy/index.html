<html>
<head>
  <title>Use Google App Engine for the deployment of the staging environment</title>
</head>
<body>
  <h1>Use Google App Engine for the deployment of the staging environment</h1>
  
  <hr />
  
  

  
  <h2 id="context">Context</h2>
<p>In order to iterative development cycles for acceptance testing and user experience design, it is necessary provide the software in a publicly accessible domain.
Since the instance will only be sporadicly used at random times, having an always online instance hosted on a rented virtual machine would be wasteful.</p>
<h2 id="alternatives">Alternatives</h2>
<h3 id="a-aws-lambda">(A) AWS Lambda</h3>
<h4 id="pros">Pros</h4>
<ul>
<li>AWS offers lots of powerful features to build web applications.</li>
<li>The usage based pricing plans lead to fair operational costs.</li>
</ul>
<h4 id="cons">Cons</h4>
<ul>
<li>Requires much learning to get used to the serverless paradigm.</li>
<li>Using MySQL from Dart would require a package which is licensed with a copyleft license (GPL).</li>
<li>Using AWS&rsquo; DynamoDB would require much learning to get used to the NoSQL paradigm.</li>
<li>Using Spring on AWS is possible to seems like not a good idea because of Java/Spring warm start is required.</li>
<li>Using AWS Lambda creates vendor lock-in which makes it difficult to switch to another deployment platform later on.</li>
</ul>
<h4 id="references">References</h4>
<ul>
<li><a href="https://www.amazon.de/dp/1789958350/ref=sspa_dk_detail_0?psc=1&amp;pd_rd_i=1789958350p13NParams&amp;spLa=ZW5jcnlwdGVkUXVhbGlmaWVyPUE1SEhNMk1JRExXT1QmZW5jcnlwdGVkSWQ9QTAzMTI4MDczQktJR1QxTExJS0Q5JmVuY3J5cHRlZEFkSWQ9QTAzODEzMzkyM09TSUY5VUVMTElKJndpZGdldE5hbWU9c3BfZGV0YWlsJmFjdGlvbj1jbGlja1JlZGlyZWN0JmRvTm90TG9nQ2xpY2s9dHJ1ZQ==">Learn AWS Serverless Computing: A beginner&rsquo;s guide to using AWS Lambda, Amazon API Gateway, and services from Amazon Web Services</a></li>
<li><a href="https://www.coursera.org/projects/aws-lambda-and-api-gateway-basics-build-serverless-website">AWS Lambda and API Gateway Basics - Build Serverless website</a></li>
<li><a href="https://www.udemy.com/course/aws-lambda-serverless/">AWS Lambda and the Serverless Framework Training | Udemy</a></li>
<li><a href="https://www.udemy.com/course/aws-lambda-serverless-architecture/">AWS Lambda &amp; Serverless Architecture Bootcamp (Build 5 Apps) | Udemy</a></li>
<li><a href="https://www.udemy.com/course/aws-serverless-a-complete-introduction/">AWS Serverless APIs &amp; Web Apps - A Complete Introduction | Udemy</a></li>
</ul>
<h3 id="b-google-cloud-functions">(B) Google Cloud Functions</h3>
<ul>
<li><a href="https://github.com/GoogleCloudPlatform/functions-framework-dart">https://github.com/GoogleCloudPlatform/functions-framework-dart</a></li>
</ul>
<h4 id="pros-1">Pros</h4>
<ul>
<li>It might be possible to use Dart both in the frontend and backend and thus have a simple system.</li>
<li>Serverless computing can provide good performance with little operational effort.</li>
</ul>
<h4 id="cons-1">Cons</h4>
<ul>
<li>The Dart support is a prototype, at the moment.</li>
<li>The maintainers of the project give feedback on pull requests or issues with low priority. E.g. there is no comment on <a href="https://github.com/GoogleCloudPlatform/functions-framework-dart/pull/179">PR#179</a> after 13 days.</li>
</ul>
<h3 id="c-firebase">(C) Firebase</h3>
<h4 id="pros-2">Pros</h4>
<ul>
<li>Low operational costs.</li>
<li>Powerful features, e.g. storage and user authentication.</li>
</ul>
<h4 id="cons-2">Cons</h4>
<ul>
<li>Vendor lock-in.</li>
<li>Business logic in storefront.</li>
<li>Since Dart is not supported for Firebase&rsquo;s serverless offerings, it is not possible to create custom APIs without adding a new language in the stack (e.g. Python or JavaScript).</li>
<li>Restrictions on the number of projects which can be created.</li>
</ul>
<h3 id="d-heroku">(D) Heroku</h3>
<ul>
<li>Backend can be implemented with Java/Spring.</li>
<li>The VM is started when a request is coming in.</li>
<li>When there is no request for 30 minutes, the VM goes to sleep.</li>
</ul>
<h4 id="pros-3">Pros</h4>
<ul>
<li>Simple deployment process.</li>
<li>Keeps to door open for an on-premise deployment.</li>
<li>No operational cost.</li>
</ul>
<h4 id="cons-3">Cons</h4>
<ul>
<li>The free plan is limited to 512 MB (this should be sufficient for quite a while, though).</li>
<li>Also the next standard plans are limited to 512 MB. And getting more RAM for a production environment would be very expensive.</li>
<li>The idea to use Dart for both the backend and the frontend needs to be discarded.</li>
<li>Uses Postgres as preferred database while MySQL is already in use in Kirpal Sagar.</li>
</ul>
<h3 id="e-google-app-enginge">(E) Google App Enginge</h3>
<ul>
<li>Backend can be implemented with Java/Spring.</li>
<li>It is possible to (auto?) scale to the app instances to zero when they are not used.</li>
</ul>
<h4 id="pros-4">Pros</h4>
<ul>
<li>Simple deployment process.</li>
<li>Keeps to door open for an on-premise deployment.</li>
<li>Supports MySQL via CloudSQL</li>
</ul>
<h4 id="cons-4">Cons</h4>
<ul>
<li>The idea to use Dart for both the backend and the frontend needs to be discarded.</li>
</ul>
<h4 id="references-1">References</h4>
<ul>
<li><a href="https://medium.com/google-cloud/scaling-google-app-engine-to-no-instances-or-maybe-just-1-37be4e8d4230">Scaling Google App Engine to No Instances (or maybe just 1) | by drew | Google Cloud - Community | Medium</a></li>
<li><a href="https://stackoverflow.com/questions/51272392/how-to-scale-down-to-0-instances-in-gae-standard-go">google app engine - How to scale down to 0 instances in GAE Standard Go - Stack Overflow</a></li>
<li><a href="https://serverfault.com/questions/985231/gae-automatic-scaling-does-not-scale-down-to-0">google cloud platform - GAE automatic scaling does not scale down to 0 - Server Fault</a></li>
</ul>
<h2 id="decision">Decision</h2>
<ul>
<li>AWS Lambda requires too much learning and creates too much vendor lock-in.</li>
<li>Google Cloud Functions via the Dart functions framework created too much risk because it may never be production ready.</li>
<li>Using Firebase creates vendor lock-in and moves all the business logic in the frontend.</li>
<li>Heroku is applicable but they don&rsquo;t offer temporary high-performance VMs.</li>
<li>Google App Engine offers hosting of Java/Spring applications on high-performance VMs which can scale down to zero instances.</li>
</ul>
<p>So, it seems like it will be better to use a classic Java/Spring backend instead of a cutting-edge serverless backend.
Google App Engine seems like a good fit in terms of features and price.</p>

  
  <hr />
  
  <a href="/administration/imprint">Imprint</a>
  
</body>
</html>
